# =====================================================================
# DomD guest configuration
# =====================================================================

seclabel='system_u:system_r:domD_t'

# Guest name
name = "DomD"

# Kernel image to boot
kernel = "/usr/lib/xen/boot/linux-domd"

device_tree = "/usr/lib/xen/boot/domd.dtb"

extra = "root=/dev/STORAGE_PART2 rw rootwait console=hvc0 clk_ignore_unused pci=pcie_bus_perf"

# Initial memory allocation (MB)
memory = 1024

# Number of VCPUS
vcpus = 4

# Uncomment this lines and add "/pmu_a76" node to
# dt_passthrough_nodes to enable PMU feature. 
# NOTE: this feature is not security supported:
# see https://xenbits.xen.org/xsa/advisory-163.html.
# It's not recommended to use it for production builds
# but it may be used for development or debugging.
# cpus = ["0", "1", "2", "3"]
# vpmu = 1

on_crash = 'preserve'

#Optee is disabled for now
#tee = "optee"

# This is autogenerated config part

dt_compatible = [ "renesas,whitehawk-cpu", "renesas,r8a779g0" ]

# Clocks and regulators are needed and are in the device tree root,
# but we do not want to copy all root nodes: handle these one by one
dt_passthrough_nodes = [
    "/extal",
    "/extalr",
    "/scif",
    "/soc",
    "/refclk",
    "/regulator-1p8v",
    "/regulator-3p3v",
]

#"/reserved-memory",
dtdev = [
    "/soc/dma-controller@e7350000",
    "/soc/dma-controller@e7351000",
    "/soc/mmc@ee140000",
]

irqs = [
# gpio@e6050180
    651,
# gpio@e6050980
    655,
# gpio@e6058180
    659,
# gpio@e6058980
    663,
# gpio@e6060180
# gpio@e6060980
# gpio@e6061180
# gpio@e6061980
# gpio@e6068180
# i2c@e6500000
# i2c@e6508000
# i2c@e66d8000
# i2c@e66e0000
# dma-controller@e7350000
    128, 129, 112, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127,
# dma-controller@e7351000
    130, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147,
# mmc@ee140000
    472,
# # iccom00
#     155,
# # iccom01
#     157,
# # iccom02
#     159,
# # iccom03
#     161,
# # iccom04
#     163,
# # iccom05
#     165,
# # iccom06
#     167,
# # iccom07
#     169,
# # iccom08
#     948,
# # iccom09
#     950,
# iccom10
# iccom11
]

iomem = [
#pin-controller@e6050000
#pin-controller@e6050000
#gpio@e6050180
#gpio@e6050980
    "e6050,1",
#pin-controller@e6050000
#pin-controller@e6050000
#gpio@e6058180
#gpio@e6058980
    "e6058,1",
#pin-controller@e6050000
#pin-controller@e6050000
#gpio@e6060180
#gpio@e6060980
    "e6060,1",
#pin-controller@e6050000
#pin-controller@e6050000
#gpio@e6061180
#gpio@e6061980
    "e6061,1",
#pin-controller@e6050000
#gpio@e6068180
    "e6068,1",
#watchdog@e6020000
    "e6020,1",
#clock-controller@e6150000
    "e6150,4",
#reset-controller@e6160000
    "e6160,4",
#system-controller@e6180000
    "e6180,4",
#serial@e6540000
#serial@e6c50000
    "e6c50,1",
#dma-controller@e7350000
    "e7350,1",
#dma-controller@e7350000
    "e7300,10",
#dma-controller@e7351000
    "e7351,1",
#dma-controller@e7351000
    "e7310,10",
#mmc@ee140000
    "ee140,2",
#chipid@fff00044                               
    "fff00,1",   
    "e60a0,1",
]

# End of autogenerated config part

